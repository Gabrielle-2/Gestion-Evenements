<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Détails de l'Événement | EventHub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        .bg-gradient-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .event-card {
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            transition: transform 0.3s ease;
        }
        .event-card:hover {
            transform: translateY(-5px);
        }
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }
    </style>
</head>
<body class="min-h-screen bg-gray-100">
<!-- Header -->
<header class="bg-gradient-primary text-white">
    <div class="container mx-auto px-4 py-6">
        <div class="flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fas fa-calendar-alt text-2xl"></i>
                <h1 class="text-2xl md:text-3xl font-bold">Détails de l'Événement</h1>
            </div>
            <a href="/index.html" class="flex items-center space-x-1 bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg transition">
                <i class="fas fa-arrow-left"></i>
                <span class="hidden sm:inline">Retour</span>
            </a>
        </div>
    </div>
</header>

<main class="container mx-auto px-4 py-8">
    <!-- Event Details Section -->
    <section id="event-details" class="mb-12">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
            <!-- Loading State -->
            <div id="loading-event" class="col-span-2 text-center py-12">
                <div class="animate-pulse flex flex-col items-center">
                    <div class="h-12 w-12 bg-purple-300 rounded-full mb-4"></div>
                    <div class="h-4 bg-purple-300 rounded w-1/4 mb-4"></div>
                    <div class="space-y-4 w-full max-w-md">
                        <div class="h-4 bg-purple-300 rounded w-3/4"></div>
                        <div class="h-4 bg-purple-300 rounded w-1/2"></div>
                        <div class="h-4 bg-purple-300 rounded w-5/6"></div>
                    </div>
                </div>
            </div>

            <!-- Event Content (will be populated by JS) -->
            <div id="event-content" class="event-card bg-white rounded-xl p-6 hidden">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <span class="inline-block bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded-full uppercase font-semibold" id="event-category">Conférence</span>
                        <h2 class="text-2xl md:text-3xl font-bold mt-2" id="event-name">Nom de l'événement</h2>
                    </div>
                    <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800" id="event-status">
                            <span class="w-2 h-2 mr-2 rounded-full bg-green-500"></span>
                            Actif
                        </span>
                </div>

                <div class="flex items-center text-gray-600 mb-4">
                    <i class="fas fa-calendar-day mr-2 text-purple-500"></i>
                    <span id="event-date">00/00/0000</span>
                    <i class="fas fa-clock ml-4 mr-2 text-purple-500"></i>
                    <span id="event-time">00:00</span>
                </div>

                <div class="flex items-center text-gray-600 mb-4">
                    <i class="fas fa-map-marker-alt mr-2 text-purple-500"></i>
                    <span id="event-location">Lieu de l'événement</span>
                </div>

                <div class="border-t border-gray-200 pt-4">
                    <h3 class="font-semibold text-lg mb-2">Description</h3>
                    <p id="event-description" class="text-gray-700">Description détaillée de l'événement...</p>
                </div>

                <div class="border-t border-gray-200 pt-4 mt-4">
                    <h3 class="font-semibold text-lg mb-2">Participants</h3>
                    <div id="participants-list" class="grid grid-cols-1 sm:grid-cols-2 gap-2">
                        <!-- Will be populated by JS -->
                    </div>
                    <p id="no-participants" class="text-gray-500 italic">Aucun participant pour le moment.</p>
                </div>
            </div>

            <!-- Event Image -->
            <div id="event-image" class="rounded-xl overflow-hidden hidden">
                <div class="relative pb-2/3 h-64 lg:h-auto">
                    <img id="event-poster" src="https://images.unsplash.com/photo-1505373877841-8d25f7d46678?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80"
                         alt="Affiche de l'événement"
                         class="absolute h-full w-full object-cover rounded-xl">
                </div>
            </div>
        </div>
    </section>

    <!-- Add Participant Form -->
    <section class="event-card bg-white rounded-xl p-6">
        <h3 class="text-xl font-bold mb-4 flex items-center">
            <i class="fas fa-user-plus mr-2 text-purple-500"></i>
            Ajouter un Participant
        </h3>
        <form id="add-participant-form" class="space-y-4">
            <div>
                <label for="participantId" class="block text-sm font-medium text-gray-700 mb-1">ID du Participant</label>
                <div class="mt-1 relative rounded-md shadow-sm">
                    <input type="text" id="participantId" name="participantId"
                           class="focus:ring-purple-500 focus:border-purple-500 block w-full pl-4 pr-12 py-3 sm:text-sm border-gray-300 rounded-lg border"
                           placeholder="P-00001"
                           required>
                </div>
            </div>

            <button type="submit" class="w-full flex justify-center items-center px-4 py-3 border border-transparent text-sm font-medium rounded-lg text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition">
                <i class="fas fa-plus-circle mr-2"></i>
                Ajouter le Participant
            </button>
        </form>

        <div id="participant-message" class="mt-4 p-4 rounded-lg hidden"></div>
    </section>
</main>

<footer class="bg-white border-t border-gray-200 mt-12">
    <div class="container mx-auto px-4 py-6">
        <div class="flex flex-col md:flex-row justify-between items-center">
            <div class="flex items-center space-x-2 mb-4 md:mb-0">
                <i class="fas fa-calendar-alt text-purple-600"></i>
                <span class="font-medium">EventHub</span>
            </div>
            <div class="flex space-x-6">
                <a href="#" class="text-gray-600 hover:text-purple-600">
                    <i class="fab fa-facebook"></i>
                </a>
                <a href="#" class="text-gray-600 hover:text-purple-600">
                    <i class="fab fa-twitter"></i>
                </a>
                <a href="#" class="text-gray-600 hover:text-purple-600">
                    <i class="fab fa-instagram"></i>
                </a>
            </div>
        </div>
        <p class="text-center md:text-left text-gray-500 text-sm mt-4">
            © 2023 EventHub. Tous droits réservés.
        </p>
    </div>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Simulate loading data
        const urlParams = new URLSearchParams(window.location.search);
        const eventId = urlParams.get('id');

        if (eventId) {
            // Simulating API call with timeout
            setTimeout(() => {
                // Hide loader
                document.getElementById('loading-event').classList.add('hidden');

                // Show content
                document.getElementById('event-content').classList.remove('hidden');
                document.getElementById('event-image').classList.remove('hidden');

                // Populate with mock data (in a real app, this would come from API)
                populateEventDetails();
                setupAddParticipantForm(eventId);
            }, 1500);
        } else {
            // No event ID provided, redirect?
            console.error("No event ID provided");
        }

        // Setup form message handling
        const messageDiv = document.getElementById('participant-message');

        // Example form submission
        document.getElementById('add-participant-form')?.addEventListener('submit', function(e) {
            e.preventDefault();

            const participantId = document.getElementById('participantId').value;

            // Show success message
            showMessage(`Participant ${participantId} ajouté avec succès!`, 'success');

            // Add to participants list
            addParticipant(participantId);

            // Reset form
            this.reset();
        });
    });

    function populateEventDetails() {
        // Mock data - in a real app this would come from your API
        const event = {
            id: 1,
            name: "Conférence sur le développement web",
            category: "Technologie",
            date: "15/12/2023",
            time: "09:30",
            location: "Centre des Congrès, Paris",
            description: "Une conférence passionnante sur les dernières tendances en développement web avec des intervenants de premier plan. Venez découvrir les frameworks les plus récents et les bonnes pratiques à adopter en 2023.",
            status: "active",
            participants: ["P-00012", "P-00034", "P-00056"]
        };

        // Populate the fields
        document.getElementById('event-name').textContent = event.name;
        document.getElementById('event-category').textContent = event.category;
        document.getElementById('event-date').textContent = event.date;
        document.getElementById('event-time').textContent = event.time;
        document.getElementById('event-location').textContent = event.location;
        document.getElementById('event-description').textContent = event.description;
        document.getElementById('event-status').textContent = event.status === 'active' ? 'Actif' : 'Inactif';

        // Add participants if any
        if (event.participants && event.participants.length > 0) {
            document.getElementById('no-participants').classList.add('hidden');
            event.participants.forEach(participant => {
                addParticipant(participant);
            });
        }
    }

    function setupAddParticipantForm(eventId) {
        console.log(`Setting up form for event ${eventId}`);
        // You would typically add event listeners here for form submission
    }

    function showMessage(text, type) {
        const messageDiv = document.getElementById('participant-message');

        // Reset classes
        messageDiv.className = 'mt-4 p-4 rounded-lg';

        // Add type-specific classes
        if (type === 'success') {
            messageDiv.classList.add('bg-green-100', 'text-green-700', 'border', 'border-green-200');
        } else {
            messageDiv.classList.add('bg-red-100', 'text-red-700', 'border', 'border-red-200');
        }

        // Set text and show
        messageDiv.textContent = text;
        messageDiv.classList.remove('hidden');

        // Hide after 5 seconds
        setTimeout(() => {
            messageDiv.classList.add('hidden');
        }, 5000);
    }

    function addParticipant(participantId) {
        const participantsList = document.getElementById('participants-list');
        const noParticipants = document.getElementById('no-participants');

        // Hide "no participants" message if it's the first one
        if (participantsList.children.length === 0) {
            noParticipants.classList.add('hidden');
        }

        // Create participant element
        const participantDiv = document.createElement('div');
        participantDiv.className = 'flex items-center p-2 bg-gray-50 rounded-lg';
        participantDiv.innerHTML = `
            <div class="flex-shrink-0 h-10 w-10 rounded-full bg-purple-100 flex items-center justify-center text-purple-800">
                <i class="fas fa-user"></i>
            </div>
            <div class="ml-4">
                <div class="text-sm font-medium text-gray-900">${participantId}</div>
                <div class="text-sm text-gray-500">Participant</div>
            </div>
        `;

        // Add to the list
        participantsList.appendChild(participantDiv);
    }
</script>
</body>
</html>